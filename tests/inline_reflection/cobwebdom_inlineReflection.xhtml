<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="X-UA-Compatible" content="chrome=1" />
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<title>Inline HTML Reflection</title>
		<script type="text/javascript" 
			src="https://rawgit.com/create3000/cobweb/master/dist/cobweb.js">
		</script>
		<script type="text/javascript" 
			src="../../cobweb/cobweb_dom.js">
		</script>
		<link rel="stylesheet" type="text/css"
			href="https://rawgit.com/create3000/cobweb/master/dist/cobweb.css"/>
	
		<style>
			X3DCanvas {
				background: #414141;
				width: 500px;
				height: 500px;
				position:relative;    /* in order to be able to position stat-div within X3D */
				float:left;           /* float the element so it has the same size like the canvas */
				cursor:pointer;
				margin: 0;
				padding: 0;
				border: 1px solid #000;
			}
			html, body {
				margin: 0px;
				padding: 0px;
				border: 0px;
				width: 100%;
				height: 100%;
				overflow: hidden;
			}

		</style>
	</head>
       
<body>
	<h1>Inline HTML Reflection</h1>
    <p>This example shows how to use the reflection of inline into HTML</p>

<X3DCanvas>
	<Scene>
		<Viewpoint position='0 0 10'/>
		<Background skyColor='0 0 0.01'/>
		<Transform>
			<Inline nameSpaceName="test1" url='"scene/reflection_box1.x3d"' />
		</Transform>
	</Scene>
</X3DCanvas>
    
<X3DCanvas xmlns="http://www.web3d.org/specifications/x3d-namespace" width="500px" height="500px">
	<Scene>
		<Viewpoint position='0 0 10'/>
		<Background skyColor='0 0.01 0'/>
		<Transform>
			<Inline nameSpaceName="test3" url='"scene/reflection_box3.x3d"' />
		</Transform>
	</Scene>
</X3DCanvas>
	
    
    <script type="text/javascript" >
	<![CDATA[
document.addEventListener("x3dload", sceneLoaded);
var numScenes = document.querySelectorAll('X3DCanvas').length;
var loadedScenes = 0;
function sceneLoaded (evt) {
	if (++loadedScenes < numScenes) { return; }

	var test1 = function (event) {	
		//document.getElementById('test1__color1').setAttribute('diffuseColor', '0 1 0');
		if (event.detail.value) { //mouseOver
		document.querySelector('[nameSpaceName="test1"] #color1').setAttribute('diffuseColor', '0 1 0');
		}
        };
	document.querySelector("[DEF='box1TS']").addEventListener('x3d_isOver', test1);

	var test2 = function (event) {		
		//document.getElementById('test1__color1').setAttribute('diffuseColor', '1 1 0');
		if (!event.detail.value) { //mouseOut
		document.querySelector('[nameSpaceName="test1"] #color1').setAttribute('diffuseColor', '1 1 0');
		}
        };
	document.querySelector("[DEF='box1TS']").addEventListener('x3d_isOver', test2);

	var test3 = function (event) {		
		//document.getElementById('test2__color2').setAttribute('diffuseColor', '0 0 1');
		if (event.detail.value) { //mouseOver
		document.querySelector('[nameSpaceName="test2"] #color2').setAttribute('diffuseColor', '0 0 1');
		}
        };
	document.querySelector("[DEF='box2TS']").addEventListener('x3d_isOver', test3);
		
	var test4 = function (event) {		
		//document.getElementById('test2__color2').setAttribute('diffuseColor', '1 0 0');
		if (!event.detail.value) { //mouseOut
		document.querySelector('[nameSpaceName="test2"] #color2').setAttribute('diffuseColor', '1 0 0');
		}
        };
	document.querySelector("[DEF='box2TS']").addEventListener('x3d_isOver', test4);

	var test5 = function (event) {		
		//document.getElementById('test3__color1').setAttribute('diffuseColor', '0 1 1');
		if (event.detail.value) { //mouseOver
		document.querySelector('[nameSpaceName="test3"] #color1').setAttribute('diffuseColor', '0 1 1');
		}
	};
	document.querySelector("[DEF='box3c1TS']").addEventListener('x3d_isOver', test5);
		
	var test6 = function (event) {		
		//document.getElementById('test3__color1').setAttribute('diffuseColor', '1 1 0');
		if (!event.detail.value) { //mouseOut
		document.querySelector('[nameSpaceName="test3"] #color1').setAttribute('diffuseColor', '1 1 0');
		}
	};
	document.querySelector("[DEF='box3c1TS']").addEventListener('x3d_isOver', test6);
		
	var test7 = function (event) {		
		//document.getElementById('test3__color2').setAttribute('diffuseColor', '1 0 1');
		if (event.detail.value) { //mouseOver
		document.querySelector('[nameSpaceName="test3"] #color2').setAttribute('diffuseColor', '1 0 1');
		}
	};
	document.querySelector("[DEF='box3c2TS']").addEventListener('x3d_isOver', test7);
		
	var test8 = function (event) {		
		//document.getElementById('test3__color2').setAttribute('diffuseColor', '1 0 0');
		if (!event.detail.value) { //mouseOut
		document.querySelector('[nameSpaceName="test3"] #color2').setAttribute('diffuseColor', '1 0 0');
		}
        };
	document.querySelector("[DEF='box3c2TS']").addEventListener('x3d_isOver', test8);
}
	]]>
</script>

</body>
</html>
